(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var c=t(1),r=t.n(c),a=t(14),o=t.n(a),s=t(3),u=t(0),i=function(e){var n=e.newSearch,t=e.handleSearch;return Object(u.jsxs)("div",{children:["filter shown with ",Object(u.jsx)("input",{value:n,onChange:t})]})},d=function(e){var n=e.person,t=e.handleDeletePerson;return Object(u.jsxs)("li",{className:"person",children:[n.name," ",n.number,Object(u.jsx)("button",{onClick:t,children:"Delete"})]})},l=function(e){var n=e.results,t=e.handleDelete;return Object(u.jsx)("ul",{children:n.map((function(e,n){return Object(u.jsx)(d,{id:n,person:e,number:e.number,handleDeletePerson:function(){return t(e.id)}},n)}))})},j=function(e){var n=e.successMessage,t=e.errorMessage,c=e.dynamicClass;return null===n||null===t?null:Object(u.jsxs)("div",{className:c,children:[n,t]})},b=function(e){var n=e.addPerson,t=e.newName,c=e.handleAddName,r=e.newNumber,a=e.handleAddPhone;return Object(u.jsxs)("form",{onSubmit:n,children:[Object(u.jsxs)("div",{children:["name: ",Object(u.jsx)("input",{value:t,onChange:c})]}),Object(u.jsxs)("div",{children:["number: ",Object(u.jsx)("input",{value:r,onChange:a})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",children:"add"})})]})},h=t(4),f=t.n(h),m="/api/persons",O=function(){return f.a.get(m).then((function(e){return e.data}))},v=function(e){return f.a.post(m,e).then((function(e){return e.data}))},x=function(e){return f.a.delete("".concat(m,"/").concat(e)).then((function(e){return e.data}))},p=function(){var e=Object(c.useState)([]),n=Object(s.a)(e,2),t=n[0],r=n[1],a=Object(c.useState)(""),o=Object(s.a)(a,2),d=o[0],h=o[1],f=Object(c.useState)(""),m=Object(s.a)(f,2),p=m[0],w=m[1],S=Object(c.useState)(""),g=Object(s.a)(S,2),C=g[0],N=g[1],k=Object(c.useState)(""),D=Object(s.a)(k,2),P=D[0],y=D[1],M=Object(c.useState)(""),A=Object(s.a)(M,2),L=A[0],T=A[1],E=Object(c.useState)(""),I=Object(s.a)(E,2),J=I[0],B=I[1];Object(c.useEffect)((function(){O().then((function(e){r(e)}))}),[]);var q=C?t.filter((function(e){return e.name.toLowerCase().includes(C.toLowerCase())})):t;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Phonebook"}),Object(u.jsx)(j,{successMessage:P,errorMessage:L,dynamicClass:J}),Object(u.jsx)(i,{newSearch:C,handleSearch:function(e){var n=e.target.value;N(n)}}),Object(u.jsx)(b,{addPerson:function(e){e.preventDefault();var n={name:d,number:p},c=n.name;t.find((function(e){return e.name.toLowerCase()===c.toLowerCase()}))||v(n).then((function(e){r(t.concat(e)),B("success"),y("".concat(n.name," has been added to the phonebook")),setTimeout((function(){y(null)}),5e3),h(""),w("")}))},newName:d,handleAddName:function(e){var n=e.target.value;h(n)},newNumber:p,handleAddPhone:function(e){var n=e.target.value;w(n)}}),Object(u.jsx)("h2",{children:"Numbers"}),Object(u.jsx)(l,{results:q,handleDelete:function(e){var n=t.find((function(n){return n.id===e}));window.confirm("Delete ".concat(n.name,"?"))&&x(e).then((function(e){r(t.filter((function(e){return e.id!==n.id}))),B("success"),y("".concat(n.name," has been deleted from the phonebook")),setTimeout((function(){y(null)}),5e3)})).catch((function(e){B("error"),T("Information of ".concat(n.name," has already been removed from the server")),setTimeout((function(){y(null)}),5e3)}))}})]})};t(38);o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(p,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.b31fbe44.chunk.js.map