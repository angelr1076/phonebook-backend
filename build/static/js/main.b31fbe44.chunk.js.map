{"version":3,"sources":["components/Filter.js","components/Person.js","components/Persons.js","components/Notification.js","components/PersonForm.js","services/persons.js","App.js","index.js"],"names":["Filter","newSearch","handleSearch","value","onChange","Person","person","handleDeletePerson","className","name","number","onClick","Persons","results","handleDelete","map","i","id","Notification","successMessage","errorMessage","dynamicClass","PersonForm","addPerson","newName","handleAddName","newNumber","handleAddPhone","onSubmit","type","baseUrl","axios","get","then","response","data","newObject","post","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setNewSearch","setSuccessMessage","setErrorMessage","setDynamicClass","useEffect","personServices","initialPeople","showSearchResults","filter","toLowerCase","includes","event","search","target","preventDefault","personObject","find","phoneList","concat","setTimeout","phone","filteredPerson","window","confirm","deletedPerson","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b31fbe44.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ newSearch, handleSearch }) => {\n    return (\n        <div>\n            filter shown with <input value={newSearch} onChange={handleSearch}/>\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react';\n\nconst Person = ({ person, handleDeletePerson }) => {\n    return (\n        <li className='person'>\n            {person.name} {person.number}\n            <button onClick={handleDeletePerson}>Delete</button>\n        </li>\n    )\n}\n\nexport default Person;","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ results, handleDelete }) => {\n    return (\n        <ul>\n            {results.map((person, i) => \n                <Person key={i} id={i} person={person} number={person.number} handleDeletePerson={() => handleDelete(person.id)}/> \n            )}\n        </ul>\n    )\n}\n\nexport default Persons","import React from 'react'\n\nconst Notification = ({ successMessage, errorMessage, dynamicClass }) => {\n    if (successMessage === null || errorMessage === null) {\n        return null\n    }\n\n    return (\n        <div className={dynamicClass}>\n            {successMessage} \n            {errorMessage} \n        </div>\n    )\n}\n\nexport default Notification","import React from 'react'\n\nconst PersonForm = ({ addPerson, newName, handleAddName, newNumber, handleAddPhone }) => {\n    return (\n        \n        <form onSubmit={addPerson}>\n        <div>\n          name: <input value={newName} onChange={handleAddName}/>\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleAddPhone}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n}\n\nexport default PersonForm","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nexport default {\n  getAll,\n  create,\n  update,\n  remove,\n};\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\nimport PersonForm from \"./components/PersonForm\";\nimport personServices from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newSearch, setNewSearch] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [dynamicClass, setDynamicClass] = useState(\"\");\n\n  const hook = () => {\n    personServices.getAll().then((initialPeople) => {\n      setPersons(initialPeople);\n    });\n  };\n  useEffect(hook, []);\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n    // Deconstruct and get name from the person object\n    const { name } = personObject;\n    const personExists = persons.find(\n      (person) => person.name.toLowerCase() === name.toLowerCase(),\n    );\n\n    if (!personExists) {\n      personServices.create(personObject).then((phoneList) => {\n        setPersons(persons.concat(phoneList));\n        setDynamicClass(\"success\");\n        setSuccessMessage(\n          `${personObject.name} has been added to the phonebook`,\n        );\n        setTimeout(() => {\n          setSuccessMessage(null);\n        }, 5000);\n        setNewName(\"\");\n        setNewNumber(\"\");\n      });\n      // } else {\n      //     const findPerson = persons.find(person => person.id === personExists.id)\n      //     // Create shallow copy of personObject\n      //     const updatedPerson = { ...personObject, id: findPerson.id}\n      //     if (window.confirm(`${updatedPerson.name} is already added to phonebook, replace the old number with a new`)) {\n      //         personServices\n      //             .update(findPerson.id, updatedPerson)\n      //             .then(updatedResponse => {\n      //                 setPersons(persons.map(person => person.id !== findPerson.id ? person : updatedResponse))\n      //                 setDynamicClass('success')\n      //                 setSuccessMessage(\n      //                   `${personObject.name}'s phone number has been updated`\n      //                 )\n      //                 setTimeout(() => {\n      //                   setSuccessMessage(null)\n      //                 }, 5000)\n      //                 setNewName('')\n      //                 setNewNumber('')\n      //             })\n      //             .catch(error => {\n      //                 console.log('Error: ', error)\n      //             })\n      //     }\n    }\n  };\n\n  const handleAddName = (event) => {\n    const name = event.target.value;\n    setNewName(name);\n  };\n\n  const handleAddPhone = (event) => {\n    const phone = event.target.value;\n    setNewNumber(phone);\n  };\n\n  const handleSearchPersons = (event) => {\n    const search = event.target.value;\n    setNewSearch(search);\n  };\n\n  const handleDelete = (id) => {\n    const filteredPerson = persons.find((person) => person.id === id);\n\n    if (window.confirm(`Delete ${filteredPerson.name}?`)) {\n      personServices\n        .remove(id)\n        .then((deletedPerson) => {\n          setPersons(\n            persons.filter((person) => person.id !== filteredPerson.id),\n          );\n          setDynamicClass(\"success\");\n          setSuccessMessage(\n            `${filteredPerson.name} has been deleted from the phonebook`,\n          );\n          setTimeout(() => {\n            setSuccessMessage(null);\n          }, 5000);\n        })\n        .catch((error) => {\n          setDynamicClass(\"error\");\n          setErrorMessage(\n            `Information of ${filteredPerson.name} has already been removed from the server`,\n          );\n          setTimeout(() => {\n            setSuccessMessage(null);\n          }, 5000);\n        });\n    }\n  };\n\n  const showSearchResults = newSearch\n    ? persons.filter((person) =>\n        person.name.toLowerCase().includes(newSearch.toLowerCase()),\n      )\n    : persons;\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification\n        successMessage={successMessage}\n        errorMessage={errorMessage}\n        dynamicClass={dynamicClass}\n      />\n      <Filter newSearch={newSearch} handleSearch={handleSearchPersons} />\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleAddName={handleAddName}\n        newNumber={newNumber}\n        handleAddPhone={handleAddPhone}\n      />\n      <h2>Numbers</h2>\n      <Persons results={showSearchResults} handleDelete={handleDelete} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}