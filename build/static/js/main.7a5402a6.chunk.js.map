{"version":3,"sources":["components/Filter.js","components/Person.js","components/Persons.js","components/Notification.js","components/PersonForm.js","services/persons.js","App.js","index.js"],"names":["Filter","newSearch","handleSearch","value","onChange","Person","person","handleDeletePerson","className","name","number","onClick","Persons","results","handleDelete","map","i","id","Notification","successMessage","errorMessage","dynamicClass","PersonForm","addPerson","newName","handleAddName","newNumber","handleAddPhone","onSubmit","type","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setNewSearch","setSuccessMessage","setErrorMessage","setDynamicClass","useEffect","personServices","initialPeople","showSearchResults","filter","toLowerCase","includes","event","search","target","preventDefault","personObject","personExists","find","findPerson","updatedPerson","window","confirm","updatedResponse","setTimeout","catch","error","console","log","returnedPerson","concat","phone","filteredPerson","deletedPerson","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7a5402a6.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ newSearch, handleSearch }) => {\n    return (\n        <div>\n            filter shown with <input value={newSearch} onChange={handleSearch}/>\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react';\n\nconst Person = ({ person, handleDeletePerson }) => {\n    return (\n        <li className='person'>\n            {person.name} {person.number}\n            <button onClick={handleDeletePerson}>Delete</button>\n        </li>\n    )\n}\n\nexport default Person;","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ results, handleDelete }) => {\n    return (\n        <ul>\n            {results.map((person, i) => \n                <Person key={i} id={i} person={person} number={person.number} handleDeletePerson={() => handleDelete(person.id)}/> \n            )}\n        </ul>\n    )\n}\n\nexport default Persons","import React from 'react'\n\nconst Notification = ({ successMessage, errorMessage, dynamicClass }) => {\n    if (successMessage === null || errorMessage === null) {\n        return null\n    }\n\n    return (\n        <div className={dynamicClass}>\n            {successMessage} \n            {errorMessage} \n        </div>\n    )\n}\n\nexport default Notification","import React from 'react'\n\nconst PersonForm = ({ addPerson, newName, handleAddName, newNumber, handleAddPhone }) => {\n    return (\n        \n        <form onSubmit={addPerson}>\n        <div>\n          name: <input value={newName} onChange={handleAddName}/>\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleAddPhone}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n}\n\nexport default PersonForm","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nexport default {\n  getAll,\n  create,\n  update,\n  remove,\n};\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\nimport PersonForm from \"./components/PersonForm\";\nimport personServices from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newSearch, setNewSearch] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [dynamicClass, setDynamicClass] = useState(\"\");\n\n  const hook = () => {\n    personServices.getAll().then((initialPeople) => {\n      setPersons(initialPeople);\n    });\n  };\n  useEffect(hook, []);\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n    // Deconstruct and get name from the person object\n    const { name } = personObject;\n    const personExists = persons.find(\n      (person) => person.name.toLowerCase() === name.toLowerCase(),\n    );\n\n    if (!personExists) {\n      personServices\n        .create(personObject)\n        .then((returnedPerson) => {\n          setPersons(persons.concat(returnedPerson));\n          setDynamicClass(\"success\");\n          setSuccessMessage(\n            `${personObject.name} has been added to the phonebook`,\n          );\n          setTimeout(() => {\n            setSuccessMessage(null);\n          }, 5000);\n          setNewName(\"\");\n          setNewNumber(\"\");\n        })\n        .catch((error) => {\n          console.log(\"Error: \", error.response.data);\n          setDynamicClass(\"error\");\n          setErrorMessage(`${error.response.data.error}`);\n          setTimeout(() => {\n            setErrorMessage(null);\n          }, 5000);\n        });\n    } else if (personExists) {\n      const findPerson = persons.find(\n        (person) => person.id === personExists.id,\n      );\n      // Create shallow copy of personObject\n      const updatedPerson = { ...personObject, id: findPerson.id };\n      if (\n        window.confirm(\n          `${updatedPerson.name} is already added to phonebook, replace the old number with a new`,\n        )\n      ) {\n        personServices\n          .update(findPerson.id, updatedPerson)\n          .then((updatedResponse) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== findPerson.id ? person : updatedResponse,\n              ),\n            );\n            setDynamicClass(\"success\");\n            setSuccessMessage(\n              `${personObject.name}'s phone number has been updated`,\n            );\n            setTimeout(() => {\n              setSuccessMessage(null);\n            }, 5000);\n            setNewName(\"\");\n            setNewNumber(\"\");\n          })\n          .catch((error) => {\n            console.log(\"Error: \", error.response.data);\n          });\n      }\n    }\n  };\n\n  const handleAddName = (event) => {\n    const name = event.target.value;\n    setNewName(name);\n  };\n\n  const handleAddPhone = (event) => {\n    const phone = event.target.value;\n    setNewNumber(phone);\n  };\n\n  const handleSearchPersons = (event) => {\n    const search = event.target.value;\n    setNewSearch(search);\n  };\n\n  const handleDelete = (id) => {\n    const filteredPerson = persons.find((person) => person.id === id);\n\n    if (window.confirm(`Delete ${filteredPerson.name}?`)) {\n      personServices\n        .remove(id)\n        .then((deletedPerson) => {\n          setPersons(\n            persons.filter((person) => person.id !== filteredPerson.id),\n          );\n          setDynamicClass(\"success\");\n          setSuccessMessage(\n            `${filteredPerson.name} has been deleted from the phonebook`,\n          );\n          setTimeout(() => {\n            setSuccessMessage(null);\n          }, 5000);\n        })\n        .catch((error) => {\n          setDynamicClass(\"error\");\n          setErrorMessage(\n            `Information of ${filteredPerson.name} has already been removed from the server`,\n          );\n          setTimeout(() => {\n            setSuccessMessage(null);\n          }, 5000);\n        });\n    }\n  };\n\n  const showSearchResults = newSearch\n    ? persons.filter((person) =>\n        person.name.toLowerCase().includes(newSearch.toLowerCase()),\n      )\n    : persons;\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification\n        successMessage={successMessage}\n        errorMessage={errorMessage}\n        dynamicClass={dynamicClass}\n      />\n      <Filter newSearch={newSearch} handleSearch={handleSearchPersons} />\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleAddName={handleAddName}\n        newNumber={newNumber}\n        handleAddPhone={handleAddPhone}\n      />\n      <h2>Numbers</h2>\n      <Persons results={showSearchResults} handleDelete={handleDelete} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}